{"generator":"Code Snippets v3.2.2","date_created":"2023-02-10 15:12","snippets":[{"name":"Shortcode mostrar tabla t\u00e9cnicos","scope":"global","code":"add_action( 'init', 'jgj_agregar_shortcode' );\n\nfunction jgj_agregar_shortcode(){\n\tadd_shortcode('tabla_tecnicos', 'shortcode_tecnicos');\n}\n\/\/ Crea el shortcode\nfunction shortcode_tecnicos() {\n\n    \/\/ Utiliza WP_Query para recuperar los t\u00e9cnicos\n    $args = array(\n        'post_type' => 'tecnicos',\n\t\t'posts_per_page' => '-1',\n\t\t'order' => 'ASC',\n\t\t'orderby' => 'title'\n    );\n    $query = new WP_Query( $args );\n\n    \/\/ Inicia una variable para almacenar el contenido del shortcode\n    $content = '';\n\n    \/\/ Utiliza un loop para generar la tabla\n    if ( $query->have_posts() ) { ?>\n<table class=\"tabla_tecnicos\">\n    <thead class=\"tabla_tecnicos__thead\">\n\t\t<tr>\n            <th class=\"tabla_tecnicos__th\">Nombre y Apellido<\/th>\n            <th class=\"tabla_tecnicos__th\">DNI<\/th>\n            <th class=\"tabla_tecnicos__th\">Zona de incidencia<\/th>\n\t\t\t<th class=\"tabla_tecnicos__th\">Ver Perfil<\/th>\n\t\t\t\n        <\/tr>\n    <\/thead>\n    <tbody class=\"tabla_tecnicos__tbody\">\n      \t\n      <?php  while ( $query->have_posts() ) {\n            $query->the_post();?>\n           \n\n        <tr class=\"tabla_tecnicos__tbody__tr\">\n\t\t\t<td class=\"tabla_tecnicos__tbody__td\"> <a class=\"tabla_tecnicos__tbody__td__title\" href=\"<?php the_permalink(); ?>\"><?php the_title(); ?><\/a> <\/td>\n\t\t\t<td class=\"tabla_tecnicos__tbody__td tabla_tecnicos__tbody__td__dni\">**.**<?php the_field( 'tecnico_dni' ); ?> <\/td>\n\t\t\t<td class=\"tabla_tecnicos__tbody__td tabla_tecnicos__tbody__td__zona\"><?php the_field( 'tecnico_zona' ); ?><\/td>\n\t\t\t<td class=\"tabla_tecnicos__tbody__td tabla_tecnicos__tbody__td__link\"><a href=\"<?php the_permalink(); ?>\" target=\"_blank\" class=\"\" >Ver Detalles<\/a><\/td>\n\t\t\t\n\t\t\t<!--\n\t\t\t<td class=\"tabla_tecnicos__tbody__td tabla_tecnicos__tbody__td__link\"><a href=\"<?php the_permalink(); ?>\" target=\"_blank\" class=\"\" > <?php echo do_shortcode( '[qr url=\"'.the_permalink().'\"]' ); ?> <\/a><\/td>\n\t\t\t-->\n\t\t<\/tr>\n\n        <?php }\n\t\t\t\t\t\t\t\t ?>\n<\/tbody>\n<\/table>\n\t\t\t\t\t\t\t\t\t <?php\n        wp_reset_postdata();\n    } else {\n        $content .= 'No hay t\u00e9cnicos disponibles.';\n    }\n    return $content;\n}","priority":"10"}]}